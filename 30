/*
30. Faça uma função recursiva para calcular os números de Catalan.
    Os números de Catalan são definidos pela seguinte recursão:

    C(n) = 1, se n = 0
    C(n) = (2 * (2n - 1) / (n + 1)) * C(n - 1), se n > 0

    Alguns números desta sequência são:
    1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, ...
*/

#include <stdio.h>   // Inclui a biblioteca padrão de entrada e saída
#include <stdlib.h>

// Protótipo da função recursiva
double catalan(int N);

// Função principal do programa
int main() 
{
    int n; // Declara a variável n que armazenará o valor digitado pelo usuário

    printf("Digite o valor de n (n >= 0): "); // Solicita que o usuário insira o valor de n
    scanf("%d", &n); // Lê o valor de n digitado e armazena na variável n

    if (n < 0) // Verifica se o valor digitado é negativo
    {
        printf("O valor de n deve ser maior ou igual a zero.\n"); // Exibe mensagem de erro
        return 0; // Encerra o programa caso o valor seja inválido
    }

    double resultado = catalan(n); // Chama a função recursiva e armazena o resultado

    printf("\nO numero de Catalan C(%d) eh: %.0lf\n", n, resultado); // Exibe o resultado formatado sem casas decimais

    system("pause");
    return 0; // Indica que o programa terminou corretamente
}

// Função recursiva que calcula o n-ésimo número de Catalan
double catalan(int N) // A função retorna um valor double pois há divisões com ponto flutuante
{
    if (N == 0) // Verifica se n é igual a 0 (caso base)
        return 1; // Retorna 1, pois C(0) = 1 conforme a definição
        
    // Caso recursivo: aplica a fórmula C(n) = (2 * (2n - 1) / (n + 1)) * C(n - 1)
    return (2.0 * (2 * N - 1) / (N + 1)) * catalan(N - 1); // Calcula recursivamente o valor
}
